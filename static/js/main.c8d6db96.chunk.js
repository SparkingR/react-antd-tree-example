(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports={app:"App_app__1LJeu","upload-btn":"App_upload-btn__2zG_I","submit-file":"App_submit-file__2qkBd","file-tree-with-modal":"App_file-tree-with-modal__12TkB"}},107:function(e,t,a){e.exports={"file-tree":"FileTree_file-tree__3yELz","file-tree__spin":"FileTree_file-tree__spin__2rMLz","file-tree__empty":"FileTree_file-tree__empty__yfPzJ","file-tree__tree":"FileTree_file-tree__tree__1Gcne","file-tree__selected-file":"FileTree_file-tree__selected-file__3QUn0","file-tree__selected-file--normal-height":"FileTree_file-tree__selected-file--normal-height__1iipE","file-tree__selected-file--double-height":"FileTree_file-tree__selected-file--double-height__2u7_c"}},114:function(e,t,a){e.exports={modal:"Modal_modal__5IdyC"}},115:function(e,t,a){e.exports={"modal-header":"ModalHeader_modal-header__lWj6T","modal-header__title":"ModalHeader_modal-header__title__Tn_Nz","modal-header__close-button":"ModalHeader_modal-header__close-button__2MAYb"}},116:function(e,t,a){e.exports={"modal-footer":"ModalFooter_modal-footer__Y6DrT","modal-footer__ok-button":"ModalFooter_modal-footer__ok-button__3NSYK","modal-footer__cancel-button":"ModalFooter_modal-footer__cancel-button__3JFVR"}},117:function(e,t,a){e.exports={"modal-button":"ModalButton_modal-button__fgeHZ","modal-button__loading":"ModalButton_modal-button__loading__jl3mZ",spin:"ModalButton_spin__3dl8J","modal-button--normal":"ModalButton_modal-button--normal__1KiGZ","modal-button--disable":"ModalButton_modal-button--disable__2zkps"}},124:function(e,t,a){e.exports=a(252)},129:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),o=a(9),i=a.n(o),r=(a(129),a(80),a(25)),c=a(31),s=a(32),d=a(35),u=a(33),m=a(36),f=a(12),_=a.n(f),p=a(106),h=a.n(p),b=(a(136),a(113)),v=a(37),w=a.n(v),g=a(55),T=a(121),y=(a(253),a(79)),k=a(76),S=a.n(k),M=a(107),C=a.n(M),F=_.a.bind(C.a),N=y.a.DirectoryTree,E=y.a.TreeNode,O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={fileTreeData:[],loading:!1},a.onClickNode=function(e){return(0,a.props.getNodeChild)(e.props.path).then(function(t){if(!t)return Promise.resolve();e.props.dataRef.children=t,a.setState(function(e,t){return{fileTreeData:Object(T.a)(a.state.fileTreeData)}})})},a.onSelect=function(e,t){a.props.setSelectedFile(S()(e)?"":t.node.props.path)},a.renderTreeNodes=function(e){var t=a.state,n=t.isFileSelectable,o=t.isFolderSelectable;return e.map(function(e){return l.a.createElement(E,{title:e.name,key:e.path,path:e.path,isLeaf:!e.isFolder,selectable:e.isFolder?o:n,dataRef:e},e.children?a.renderTreeNodes(e.children):null)})},a.renderTree=function(){var e=a.state.fileTreeData,t=a.props,n=t.isDisabled,o=t.selectedFile,i=t.rootFolder,r=o||i.concat(" > ");return r=r.slice(1).replace(/\//g," > "),S()(e)?l.a.createElement("div",{className:F("file-tree__empty")},"Empty"):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:F("file-tree__selected-file",r.length<80?"file-tree__selected-file--normal-height":"file-tree__selected-file--double-height")},r),l.a.createElement("div",{className:F("file-tree__tree")},l.a.createElement(N,{disabled:n,loadData:a.onClickNode,onSelect:a.onSelect},a.renderTreeNodes(e))))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(w.a.mark(function e(){var t,a,n,l,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.selectableType,n=t.rootFolder,l=t.getNodeChild,this.setState(function(e,t){return{loading:!0}}),e.next=4,l(n);case 4:o=e.sent,this.setState(function(e,t){return{fileTreeData:o,loading:!1,isFileSelectable:["both","file"].includes(a),isFolderSelectable:["both","folder"].includes(a)}});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.loading,t=this.props.className;return l.a.createElement("div",{className:F("file-tree",t)},e?l.a.createElement(b.a,{className:F("file-tree__spin"),tip:"Loading..."}):this.renderTree())}}]),t}(n.PureComponent);O.defaultProps={className:"",isDisabled:!1,selectableType:"both",selectedFile:"",setSelectedFile:function(){},getNodeChild:function(){}};var x=O,j=(a(225),a(120)),B=a(114),L=a.n(B),D=a(115),R=a.n(D);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var A=l.a.createElement("title",null,"windows_close_b"),z=l.a.createElement("desc",null,"Created with Sketch."),J=l.a.createElement("g",{id:"Sample",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.a.createElement("g",{id:"Event_popup",transform:"translate(-436.000000, -69.000000)",fill:"#2F2F2F",fillRule:"nonzero"},l.a.createElement("g",{id:"Group",transform:"translate(68.000000, 59.000000)"},l.a.createElement("g",{id:"windows_close_b",transform:"translate(363.000000, 5.000000)"},l.a.createElement("path",{d:"M13,11 L19,11 C19.5522847,11 20,11.4477153 20,12 C20,12.5522847 19.5522847,13 19,13 L13,13 L13,19 C13,19.5522847 12.5522847,20 12,20 C11.4477153,20 11,19.5522847 11,19 L11,13 L5,13 C4.44771525,13 4,12.5522847 4,12 C4,11.4477153 4.44771525,11 5,11 L11,11 L11,5 C11,4.44771525 11.4477153,4 12,4 C12.5522847,4 13,4.44771525 13,5 L13,11 Z",id:"Combined-Shape",transform:"translate(12.000000, 12.000000) rotate(-315.000000) translate(-12.000000, -12.000000) "}))))),G=function(e){return l.a.createElement("svg",P({width:"14px",height:"14px",viewBox:"0 0 14 14",version:1.1,xmlnsXlink:"http://www.w3.org/1999/xlink"},e),A,z,J)},H=(a.p,_.a.bind(R.a)),V=function(e){var t=e.className,a=e.title,n=e.onModalCancel;return a?l.a.createElement("div",{className:H("modal-header",t)},l.a.createElement("span",{className:H("modal-header__title")},a),l.a.createElement("button",{className:H("modal-header__close-button"),type:"button",onClick:n},l.a.createElement(G,null))):null};V.defaultProps={className:"",title:!0,onModalCancel:function(){}};var W=l.a.memo(V),Z=a(116),I=a.n(Z),Y=a(117),q=a.n(Y),K=_.a.bind(q.a),U=function(e){var t=e.className,a=e.children,n=e.type,o=e.onClick,i=e.isDisabled,r=e.isLoading;return l.a.createElement("button",{className:K("modal-button",t,i||r?"modal-button--disable":"modal-button--normal"),type:n,onClick:o,disabled:i},r&&l.a.createElement("div",{className:K("modal-button__loading")}),a)};U.defaultProps={className:"",type:"button",onClick:function(){},isDisabled:!1,isLoading:!1};var Q=l.a.memo(U),X=_.a.bind(I.a),$=function(e){var t=e.className,a=e.isReadyToSubmit,n=e.isSubmitting,o=e.okBtnText,i=e.cancelBtnText,r=e.handleOk,c=e.handleCancel,s=o?l.a.createElement(Q,{className:X("modal-footer__ok-button"),isLoading:n,isDisabled:n||!a,onClick:r},o):null,d=i?l.a.createElement(Q,{className:X("modal-footer__cancel-button"),isDisabled:n,onClick:c},i):null;return s||d?l.a.createElement("div",{className:X("modal-footer",t)},s,d):null};$.defaultProps={className:"",isReadyToSubmit:!1,isSubmitting:!1,okBtnText:"",cancelBtnText:"",handleOk:function(){},handleCancel:function(){}};var ee=l.a.memo($),te=_.a.bind(L.a),ae=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={loading:!1},a.handleOk=Object(g.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState(function(e,t){return{loading:!0}}),e.next=3,a.props.onModalOk();case 3:a.setState(function(e,t){return{loading:!1}});case 4:case"end":return e.stop()}},e,this)})),a.handleCancel=function(){!a.state.loading&&a.props.onModalCancel()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.loading,t=this.props,a=t.className,n=t.children,o=t.width,i=t.title,r=t.cancelBtnText,c=t.okBtnText,s=t.isVisible,d=t.isReadyToSubmit,u=t.onModalCancel;return l.a.createElement(j.a,{className:te("modal",a),width:o,visible:s,footer:null,mask:!1,centered:!0,destroyOnClose:!0},l.a.createElement(W,{title:i,onModalCancel:u}),n(this.state),l.a.createElement(ee,{isReadyToSubmit:d,isSubmitting:e,okBtnText:c,cancelBtnText:r,handleOk:this.handleOk,handleCancel:this.handleCancel}))}}]),t}(n.PureComponent);ae.defaultProps={className:"",width:"50%",title:"",cancelBtnText:"Cancel",okBtnText:"",isVisible:!0,isReadyToSubmit:!0,onModalOk:function(){},onModalCancel:function(){}};var ne=ae,le=a(122),oe=a(119),ie=a.n(oe),re=a(57),ce=function(e){return function(e){var t=e.method,a=void 0===t?"get":t,n=e.endpoint,l=e.query,o=void 0===l?{}:l,i=e.fullUrl,r=(void 0===i?"":i)||re.a+n;return ie()({method:a,url:r,params:o})}({endpoint:e+".json"}).then(function(e){var t=e.data.path;return e.data.fileList.map(function(e){return Object(le.a)({},e,{path:t+"/"+e.name})})}).catch(function(e){return console.error(e)})},se=function(e){return function(t){return function(){for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return new Promise(function(t){return setTimeout(t,e)}).then(function(){return t.apply(void 0,n)})}}},de=_.a.bind(h.a),ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={isModalOpen:!1,isModalReadyToSubmit:!1,selectedFile:"",submitFile:""},a.openModal=function(){a.setState(function(e,t){return{isModalOpen:!0}})},a.closeModal=function(){a.setState(function(e,t){return{isModalOpen:!1,isModalReadyToSubmit:!1,selectedFile:""}})},a.onModalSubmit=function(){a.setState(function(e,t){return{isModalOpen:!1,isModalReadyToSubmit:!1,selectedFile:"",submitFile:e.selectedFile}})},a.setSelectedFile=function(e){a.setState(function(t,a){return{isModalReadyToSubmit:!0,selectedFile:e}})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isModalOpen,n=t.isModalReadyToSubmit,o=t.selectedFile,i=t.submitFile;return l.a.createElement("div",{className:de("app")},l.a.createElement("div",{className:de("submit-file")},i?"Submit : "+i:null),l.a.createElement(r.a,{className:de("upload-btn"),type:"primary",onClick:this.openModal},"Show Modal"),l.a.createElement(ne,{width:"600px",className:de("file-tree-with-modal"),title:"Please choose a file",okBtnText:"Submit",cancelBtnText:"Cancel",isVisible:a,isReadyToSubmit:n,onModalCancel:this.closeModal,onModalOk:se(1e3)(this.onModalSubmit)},function(t){return l.a.createElement(x,{selectableType:"file",isDisabled:t.loading,rootFolder:re.b,getNodeChild:se(500)(ce),selectedFile:o,setSelectedFile:e.setSelectedFile})}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},57:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return r}),a.d(t,"b",function(){return c});var n=e.window?"".concat(window.location.protocol,"//").concat(window.location.hostname):"http://localhost",l=e.window?window.location.port:"3000",o="".concat(n,":").concat(l),i=e.window?window.location.pathname:"",r="".concat(o).concat(i,"fakedata"),c="/root"}).call(this,a(59))}},[[124,2,1]]]);
//# sourceMappingURL=main.c8d6db96.chunk.js.map