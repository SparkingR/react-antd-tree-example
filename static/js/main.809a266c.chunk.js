(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,n){e.exports={app:"App_app__1LJeu","upload-btn":"App_upload-btn__2zG_I","selected-file":"App_selected-file__1SV6C","submit-file":"App_submit-file__2qkBd"}},105:function(e,t,n){},109:function(e,t,n){e.exports={"file-tree":"FileTree_file-tree__3yELz",spin:"FileTree_spin__uCCEv"}},119:function(e,t,n){e.exports=n(242)},124:function(e,t,n){},242:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(9),l=n.n(i),r=(n(124),n(57),n(16)),c=n(30),s=n(31),d=n(35),u=n(32),p=n(36),f=n(33),h=n.n(f),m=n(104),b=n.n(m),v=(n(131),n(115)),w=n(105),k=n.n(w),O=h.a.bind(k.a),C=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleOk=function(){n.props.onModalOk()},n.handleCancel=function(){!n.props.loading&&n.props.onModalClose()},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.visible,a=e.width,i=e.title,l=e.cancelBtnText,c=e.okBtnText,s=e.loading,d=e.prepareToSubmit;return o.a.createElement(v.a,{className:O("modal",t),visible:n,width:a,title:i,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,destroyOnClose:!0,footer:[o.a.createElement(r.a,{key:"cancel",disabled:s,onClick:this.handleCancel},l),o.a.createElement(r.a,{key:"ok",type:"primary",loading:s,disabled:!d,onClick:this.handleOk},c)]},this.props.children)}}]),t}(a.Component);C.defaultProps={className:"",visible:!0,width:"50%",title:"",cancelBtnText:"Cancel",okBtnText:"Ok",loading:!1,prepareToSubmit:!0,onModalOk:function(){},onModalClose:function(){}};var S=C,g=(n(187),n(113)),T=n(116),y=(n(243),n(78)),N=n(76),_=n.n(N),j=n(109),F=n.n(j),E=h.a.bind(F.a),M=y.a.TreeNode,L=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={fileTreeData:[]},n.componentDidMount=function(){(0,n.props.initTreeRoot)().then(function(e){return setTimeout(function(){n.setState(function(t,n){return{fileTreeData:e,loading:!1}})},500)})},n.onClickNodeChild=function(e){var t=n.props.getNodeChild;return e.props.children||e.props.isLeaf?null:t(e.props.path).then(function(t){e.props.dataRef.children=t,n.setState(function(e,t){return{fileTreeData:Object(T.a)(n.state.fileTreeData)}})})},n.onSelect=function(e,t){(0,n.props.setSelectedFile)(_()(e)?"":t.node.props.path)},n.renderTreeNodes=function(e){var t=n.props,a=t.fileSelectable,i=t.folderSelectable;return e.map(function(e){return o.a.createElement(M,{title:e.name,key:e.path,path:e.path,isLeaf:!e.isFolder,selectable:e.isFolder?i:a,dataRef:e},e.children?n.renderTreeNodes(e.children):null)})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.fileTreeData,t=this.props.className;return _()(e)?o.a.createElement("div",{className:E("file-tree",t)},o.a.createElement(g.a,{className:E("spin"),tip:"Loading..."})):o.a.createElement(y.a,{className:E("file-tree",t),loadData:this.onClickNodeChild,onSelect:this.onSelect},this.renderTreeNodes(e))}}]),t}(a.Component);L.defaultProps={className:"",fileSelectable:!0,folderSelectable:!0,getNodeChild:function(){},setSelectedFile:function(){}};var B=L,x=n(117),A=n(114),D=n.n(A),V=n(55),R=function(e){return function(e){var t=e.method,n=void 0===t?"get":t,a=e.endpoint,o=e.query,i=void 0===o?{}:o,l=e.fullUrl,r=(void 0===l?"":l)||V.a+a;return D()({method:n,url:r,params:i})}({endpoint:e+".json"}).then(function(e){var t=e.data.path;return e.data.fileList.map(function(e){return Object(x.a)({},e,{path:t+"/"+e.name})})}).catch(function(e){return console.error(e)})},J=h.a.bind(b.a),P=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={modalVisible:!1,modalLoading:!1,selectedFile:"",submitFile:""},n.showModal=function(){n.setState(function(e,t){return{modalVisible:!0}})},n.onModalClose=function(){n.setState(function(e,t){return{modalVisible:!1,selectedFile:""}})},n.onModalOk=function(){n.setState(function(e,t){return{modalLoading:!0}}),setTimeout(function(){n.setState(function(e,t){return{modalVisible:!1,modalLoading:!1,selectedFile:"",submitFile:e.selectedFile}})},500)},n.setSelectedFile=function(e){n.setState(function(t,n){return{selectedFile:e}})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.modalVisible,n=e.modalLoading,a=e.selectedFile,i=e.submitFile;return o.a.createElement("div",{className:J("app")},o.a.createElement("div",{className:J("submit-file")},i?"Submit : "+i:null),o.a.createElement(r.a,{className:J("upload-btn"),type:"primary",onClick:this.showModal},"Show Modal"),o.a.createElement(S,{visible:t,title:"Please choose a file or a folder",okBtnText:"Submit",loading:n,prepareToSubmit:Boolean(a.length),onModalClose:this.onModalClose,onModalOk:this.onModalOk},o.a.createElement(B,{initTreeRoot:function(){return R(V.b)},getNodeChild:R,setSelectedFile:this.setSelectedFile}),o.a.createElement("div",{className:J("selected-file")},a?"Selected : "+a:null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c});var a=e.window?"".concat(window.location.protocol,"//").concat(window.location.hostname):"http://localhost",o=e.window?window.location.pathname:"",i=e.window?window.location.port:"3000",l="".concat(a,":").concat(i),r="".concat(l).concat(o,"/fakedata"),c="/root"}).call(this,n(72))}},[[119,2,1]]]);
//# sourceMappingURL=main.809a266c.chunk.js.map